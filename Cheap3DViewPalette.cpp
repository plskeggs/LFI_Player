//
// *********************************************************
// *                                                       *
// * Copyright 1998-2022, Lazerus Laser Systems            *
// * Author: Michael G. Svob                               *
// *                                                       *
// * File Name: Cheap3DViewPalette.cpp                     *
// * Description: Contains the supported color palette     *
// * tables, as well as a "reverse look-up" method to get  *
// * the closest table entry based on an RGB value. Values *
// * for the Laser Illusions, Pangolin, and X29 color      *
// * palettes originally derived from Andrew Kozin's       *
// * Anarchy Editor ".pal" data files, Copyright 1998,     *
// * Illegal Systems Corp. and Laser Action Ltd..          *
// *                                                       *
// * This code is distributed under the GNU Public License *
// * which can be found at...                              *
// *                                                       *
// * http://www.gnu.org/licenses/gpl.txt                   *
// *                                                       *
// *********************************************************
//
////////////////////////////////////////////////////////////////////
//
// CCheap3DView Palette Tables
//
////////////////////////////////////////////////////////////////////

#ifndef PALETTE_H
#include "palette.h"
#endif

static PaletteEntryType PangolinColorPalette[] =
{
//  Index     Red      Green    Blue
//  ========  =======  =======  =======
    {0,       255,     0,       0  },
    {1,       255,     16,      0  },
    {2,       255,     32,      0  },
    {3,       255,     48,      0  },
    {4,       255,     64,      0  },
    {5,       255,     80,      0  },
    {6,       255,     96,      0  },
    {7,       255,     112,     0  },
    {8,       255,     128,     0  },
    {9,       255,     144,     0  },
    {10,      255,     160,     0  },
    {11,      255,     176,     0  },
    {12,      255,     192,     0  },
    {13,      255,     208,     0  },
    {14,      255,     224,     0  },
    {15,      255,     240,     0  },
    {16,      255,     255,     0  },
    {17,      224,     255,     0  },
    {18,      192,     255,     0  },
    {19,      160,     255,     0  },
    {20,      128,     255,     0  },
    {21,      96,      255,     0  },
    {22,      64,      255,     0  },
    {23,      32,      255,     0  },
    {24,      0,       255,     0  },
    {25,      0,       255,     32 },
    {26,      0,       255,     64 },
    {27,      0,       255,     96 },
    {28,      0,       255,     128},
    {29,      0,       255,     160},
    {30,      0,       255,     192},
    {31,      0,       255,     224},
    {32,      0,       130,     255},
    {33,      0,       114,     255},
    {34,      0,       104,     255},
    {35,      10,      96,      255},
    {36,      0,       82,      255},
    {37,      0,       74,      255},
    {38,      0,       64,      255},
    {39,      0,       32,      255},
    {40,      0,       0,       255},
    {41,      32,      0,       255},
    {42,      64,      0,       255},
    {43,      96,      0,       255},
    {44,      128,     0,       255},
    {45,      160,     0,       255},
    {47,      224,     0,       255},
    {48,      255,     0,       255},
    {49,      255,     32,      255},
    {50,      255,     64,      255},
    {51,      255,     96,      255},
    {52,      255,     128,     255},
    {53,      255,     160,     255},
    {54,      255,     192,     255},
    {55,      255,     224,     255},
    {56,      255,     255,     255},
    {57,      255,     224,     224},
    {58,      255,     255,     255},
    {59,      255,     160,     160},
    {60,      255,     128,     128},
    {61,      255,     96,      96 },
    {62,      255,     64,      64 },
    {63,      255,     32,      32 },
    {64,      255,     32,      32 },
    {65,      255,     32,      32 },
    {66,      255,     32,      32 },
    {67,      255,     32,      32 },
    {68,      255,     32,      32 },
    {69,      255,     32,      32 },
    {70,      255,     32,      32 },
    {71,      255,     32,      32 },
    {72,      255,     32,      32 },
    {73,      255,     32,      32 },
    {74,      255,     32,      32 },
    {75,      255,     32,      32 },
    {76,      255,     32,      32 },
    {77,      255,     32,      32 },
    {78,      255,     32,      32 },
    {79,      255,     32,      32 },
    {80,      255,     32,      32 },
    {81,      255,     32,      32 },
    {82,      255,     32,      32 },
    {83,      255,     32,      32 },
    {84,      255,     32,      32 },
    {85,      255,     32,      32 },
    {86,      255,     32,      32 },
    {87,      255,     32,      32 },
    {88,      255,     32,      32 },
    {89,      255,     32,      32 },
    {90,      255,     32,      32 },
    {91,      255,     32,      32 },
    {92,      255,     32,      32 },
    {93,      255,     32,      32 },
    {94,      255,     32,      32 },
    {95,      255,     32,      32 },
    {96,      255,     32,      32 },
    {97,      255,     32,      32 },
    {98,      255,     32,      32 },
    {99,      255,     32,      32 },
    {100,     255,     32,      32 },
    {101,     255,     32,      32 },
    {102,     255,     32,      32 },
    {103,     255,     32,      32 },
    {104,     255,     32,      32 },
    {105,     255,     32,      32 },
    {106,     255,     32,      32 },
    {107,     255,     32,      32 },
    {108,     255,     32,      32 },
    {109,     255,     32,      32 },
    {110,     255,     32,      32 },
    {111,     255,     32,      32 },
    {112,     255,     32,      32 },
    {113,     255,     32,      32 },
    {114,     255,     32,      32 },
    {115,     255,     32,      32 },
    {116,     255,     32,      32 },
    {117,     255,     32,      32 },
    {118,     255,     32,      32 },
    {119,     255,     32,      32 },
    {120,     255,     32,      32 },
    {121,     255,     32,      32 },
    {122,     255,     32,      32 },
    {123,     255,     32,      32 },
    {124,     255,     32,      32 },
    {125,     255,     32,      32 },
    {126,     255,     32,      32 },
    {127,     255,     32,      32 },
    {128,     255,     32,      32 },
    {129,     255,     32,      32 },
    {130,     255,     32,      32 },
    {131,     255,     32,      32 },
    {132,     255,     32,      32 },
    {133,     255,     32,      32 },
    {134,     255,     32,      32 },
    {135,     255,     32,      32 },
    {136,     255,     32,      32 },
    {137,     255,     32,      32 },
    {138,     255,     32,      32 },
    {139,     255,     32,      32 },
    {140,     255,     32,      32 },
    {141,     255,     32,      32 },
    {142,     255,     32,      32 },
    {143,     255,     32,      32 },
    {144,     255,     32,      32 },
    {145,     255,     32,      32 },
    {146,     255,     32,      32 },
    {147,     255,     32,      32 },
    {148,     255,     32,      32 },
    {149,     255,     32,      32 },
    {150,     255,     32,      32 },
    {151,     255,     32,      32 },
    {152,     255,     32,      32 },
    {153,     255,     32,      32 },
    {154,     255,     32,      32 },
    {155,     255,     32,      32 },
    {156,     255,     32,      32 },
    {157,     255,     32,      32 },
    {158,     255,     32,      32 },
    {159,     255,     32,      32 },
    {160,     255,     32,      32 },
    {161,     255,     32,      32 },
    {162,     255,     32,      32 },
    {163,     255,     32,      32 },
    {164,     255,     32,      32 },
    {165,     255,     32,      32 },
    {166,     255,     32,      32 },
    {167,     255,     32,      32 },
    {168,     255,     32,      32 },
    {169,     255,     32,      32 },
    {170,     255,     32,      32 },
    {171,     255,     32,      32 },
    {172,     255,     32,      32 },
    {173,     255,     32,      32 },
    {174,     255,     32,      32 },
    {175,     255,     32,      32 },
    {176,     255,     32,      32 },
    {177,     255,     32,      32 },
    {178,     255,     32,      32 },
    {179,     255,     32,      32 },
    {180,     255,     32,      32 },
    {181,     255,     32,      32 },
    {182,     255,     32,      32 },
    {183,     255,     32,      32 },
    {184,     255,     32,      32 },
    {185,     255,     32,      32 },
    {186,     255,     32,      32 },
    {187,     255,     32,      32 },
    {188,     255,     32,      32 },
    {189,     255,     32,      32 },
    {190,     255,     32,      32 },
    {191,     255,     32,      32 },
    {192,     255,     32,      32 },
    {193,     255,     32,      32 },
    {194,     255,     32,      32 },
    {195,     255,     32,      32 },
    {196,     255,     32,      32 },
    {197,     255,     32,      32 },
    {198,     255,     32,      32 },
    {199,     255,     32,      32 },
    {200,     255,     32,      32 },
    {201,     255,     32,      32 },
    {202,     255,     32,      32 },
    {203,     255,     32,      32 },
    {204,     255,     32,      32 },
    {205,     255,     32,      32 },
    {206,     255,     32,      32 },
    {207,     255,     32,      32 },
    {208,     255,     32,      32 },
    {209,     255,     32,      32 },
    {210,     255,     32,      32 },
    {211,     255,     32,      32 },
    {212,     255,     32,      32 },
    {213,     255,     32,      32 },
    {214,     255,     32,      32 },
    {215,     255,     32,      32 },
    {216,     255,     32,      32 },
    {217,     255,     32,      32 },
    {218,     255,     32,      32 },
    {219,     255,     32,      32 },
    {220,     255,     32,      32 },
    {221,     255,     32,      32 },
    {222,     255,     32,      32 },
    {223,     255,     32,      32 },
    {224,     255,     32,      32 },
    {225,     255,     32,      32 },
    {226,     255,     32,      32 },
    {227,     255,     32,      32 },
    {228,     255,     32,      32 },
    {229,     255,     32,      32 },
    {230,     255,     32,      32 },
    {231,     255,     32,      32 },
    {232,     255,     32,      32 },
    {233,     255,     32,      32 },
    {234,     255,     32,      32 },
    {235,     255,     32,      32 },
    {236,     255,     32,      32 },
    {237,     255,     32,      32 },
    {238,     255,     32,      32 },
    {239,     255,     32,      32 },
    {240,     255,     32,      32 },
    {241,     255,     32,      32 },
    {242,     255,     32,      32 },
    {243,     255,     32,      32 },
    {244,     255,     32,      32 },
    {245,     255,     32,      32 },
    {246,     255,     32,      32 },
    {247,     255,     32,      32 },
    {248,     255,     32,      32 },
    {249,     255,     32,      32 },
    {250,     255,     32,      32 },
    {251,     255,     32,      32 },
    {252,     255,     32,      32 },
    {253,     255,     32,      32 },
    {254,     255,     32,      32 },
	{255,     255,     32,      32 },
};

static PaletteEntryType LaserIllusionsColorPalette[] =
{
//  Index     Red      Green    Blue
//  ========  =======  =======  =======
    {0,       0,       0,       0  },  // Black/blanked
    {1,       255,     255,     255},  // White (fixed)
    {2,       255,     0,       0  },  // Red (fixed)
    {3,       0,       255,     0  },  // Green
    {4,       0,       0,       255},  // Blue (fixed)
    {5,       255,     255,     0  },  // Yellow (fixed)
    {6,       0,       255,     255},  // Cyan (fixed)
    {7,       255,     0,       255},  // Magenta
    {8,       255,     128,     128},  // Light red
    {9,       255,     140,     128},
    {10,      255,     151,     128},
    {11,      255,     163,     128},
    {12,      255,     174,     128},
    {13,      255,     186,     128},
    {14,      255,     197,     128},
    {15,      255,     209,     128},
    {16,      255,     220,     128},
    {17,      255,     232,     128},
    {18,      255,     243,     128},
    {19,      255,     255,     128},  // Light yellow
    {20,      243,     255,     128},
    {21,      232,     255,     128},
    {22,      220,     255,     128},
    {23,      209,     255,     128},
    {24,      197,     255,     128},
    {25,      186,     255,     128},
    {26,      174,     255,     128},
    {27,      163,     255,     128},
    {28,      151,     255,     128},
    {29,      140,     255,     128},
    {30,      128,     255,     128},  // Light green
    {31,      128,     255,     140},
    {32,      128,     255,     151},
    {33,      128,     255,     163},
    {34,      128,     255,     174},
    {35,      128,     255,     186},
    {36,      128,     255,     197},
    {37,      128,     255,     209},
    {38,      128,     255,     220},
    {39,      128,     255,     232},
    {40,      128,     255,     243},
    {41,      128,     255,     255},  // Light cyan
    {42,      128,     243,     255},
    {43,      128,     232,     255},
    {44,      128,     220,     255},
    {45,      128,     209,     255},
    {46,      128,     197,     255},
    {47,      128,     186,     255},
    {48,      128,     174,     255},
    {49,      128,     163,     255},
    {50,      128,     151,     255},
    {51,      128,     140,     255},
    {52,      128,     128,     255},  // Light blue
    {53,      140,     128,     255},
    {54,      151,     128,     255},
    {55,      163,     128,     255},
    {56,      174,     128,     255},
    {57,      186,     128,     255},
    {58,      197,     128,     255},
    {59,      209,     128,     255},
    {60,      220,     128,     255},
    {61,      232,     128,     255},
    {62,      243,     128,     255},
    {63,      255,     128,     255},  // Light magenta
    {64,      255,     128,     243},
    {65,      255,     128,     232},
    {66,      255,     128,     220},
    {67,      255,     128,     209},
    {68,      255,     128,     197},
    {69,      255,     128,     186},
    {70,      255,     128,     174},
    {71,      255,     128,     163},
    {72,      255,     128,     151},
    {73,      255,     128,     140},
    {74,      255,     0,       0  },  // Red   (cycleable)
    {75,      255,     23,      0  },
    {76,      255,     46,      0  },
    {77,      255,     70,      0  },
    {78,      255,     93,      0  },
    {79,      255,     116,     0  },
    {80,      255,     139,     0  },
    {81,      255,     162,     0  },
    {82,      255,     185,     0  },
    {83,      255,     209,     0  },
    {84,      255,     232,     0  },
    {85,      255,     255,     0  },  // Yellow (cycleable)
    {86,      232,     255,     0  },
    {87,      209,     255,     0  },
    {88,      185,     255,     0  },
    {89,      162,     255,     0  },
    {90,      139,     255,     0  },
    {91,      116,     255,     0  },
    {92,      93,      255,     0  },
    {93,      70,      255,     0  },
    {94,      46,      255,     0  },
    {95,      23,      255,     0  },
    {96,      0,       255,     0  },  // Green  (cycleable)
    {97,      0,       255,     23 },
    {98,      0,       255,     46 },
    {99,      0,       255,     70 },
    {100,     0,       255,     93 },
    {101,     0,       255,     116},
    {102,     0,       255,     139},
    {103,     0,       255,     162},
    {104,     0,       255,     185},
    {105,     0,       255,     209},
    {106,     0,       255,     232},
    {107,     0,       255,     255},  // Cyan   (cycleable)
    {108,     0,       232,     255},
    {109,     0,       209,     255},
    {110,     0,       185,     255},
    {111,     0,       162,     255},
    {112,     0,       139,     255},
    {113,     0,       116,     255},
    {114,     0,       93,      255},
    {115,     0,       70,      255},
    {116,     0,       46,      255},
    {117,     0,       23,      255},
    {118,     0,       0,       255},  // Blue   (cycleable)
    {119,     23,      0,       255},
    {120,     46,      0,       255},
    {121,     70,      0,       255},
    {122,     93,      0,       255},
    {123,     116,     0,       255},
    {124,     139,     0,       255},
    {125,     162,     0,       255},
    {126,     185,     0,       255},
    {127,     209,     0,       255},
    {128,     232,     0,       255},
    {129,     255,     0,       255},  // Magenta (cycleable)
    {130,     255,     0,       232},
    {131,     255,     0,       209},
    {132,     255,     0,       185},
    {133,     255,     0,       162},
    {134,     255,     0,       139},
    {135,     255,     0,       116},
    {136,     255,     0,       93 },
    {137,     255,     0,       70 },
    {138,     255,     0,       46 },
    {139,     255,     0,       23 },
    {140,     128,     0,       0  },  // Dark    red
    {141,     128,     12,      0  },
    {142,     128,     23,      0  },
    {143,     128,     35,      0  },
    {144,     128,     47,      0  },
    {145,     128,     58,      0  },
    {146,     128,     70,      0  },
    {147,     128,     81,      0  },
    {148,     128,     93,      0  },
    {149,     128,     105,     0  },
    {150,     128,     116,     0  },
    {151,     128,     128,     0  },  // Dark    yellow
    {152,     116,     128,     0  },
    {153,     105,     128,     0  },
    {154,     93,      128,     0  },
    {155,     81,      128,     0  },
    {156,     70,      128,     0  },
    {157,     58,      128,     0  },
    {158,     47,      128,     0  },
    {159,     35,      128,     0  },
    {160,     23,      128,     0  },
    {161,     12,      128,     0  },
    {162,     0,       128,     0  }, // Dark    green
    {163,     0,       128,     12 },
    {164,     0,       128,     23 },
    {165,     0,       128,     35 },
    {166,     0,       128,     47 },
    {167,     0,       128,     58 },
    {168,     0,       128,     70 },
    {169,     0,       128,     81 },
    {170,     0,       128,     93 },
    {171,     0,       128,     105},
    {172,     0,       128,     116},
    {173,     0,       128,     128}, // Dark    cyan
    {174,     0,       116,     128},
    {175,     0,       105,     128},
    {176,     0,       93,      128},
    {177,     0,       81,      128},
    {178,     0,       70,      128},
    {179,     0,       58,      128},
    {180,     0,       47,      128},
    {181,     0,       35,      128},
    {182,     0,       23,      128},
    {183,     0,       12,      128},
    {184,     0,       0,       128}, // Dark    blue
    {185,     12,      0,       128},
    {186,     23,      0,       128},
    {187,     35,      0,       128},
    {188,     47,      0,       128},
    {189,     58,      0,       128},
    {190,     70,      0,       128},
    {191,     81,      0,       128},
    {192,     93,      0,       128},
    {193,     105,     0,       128},
    {194,     116,     0,       128},
    {195,     128,     0,       128}, // Dark    magenta
    {196,     128,     0,       116},
    {197,     128,     0,       105},
    {198,     128,     0,       93 },
    {199,     128,     0,       81 },
    {200,     128,     0,       70 },
    {201,     128,     0,       58 },
    {202,     128,     0,       47 },
    {203,     128,     0,       35 },
    {204,     128,     0,       23 },
    {205,     128,     0,       12 },
    {206,     255,     192,     192},  // Very light red
    {207,     255,     64,      64 },  // Light-medium red
    {208,     192,     0,       0  },  // Medium-dark red
    {209,     64,      0,       0  },  // Very dark red
    {210,     255,     255,     192},  // Very light yellow
    {211,     255,     255,     64 },  // Light-medium yellow
    {212,     192,     192,     0  },  // Medium-dark yellow
    {213,     64,      64,      0  },  // Very dark yellow
    {214,     192,     255,     192},  // Very light green
    {215,     64,      255,     64 },  // Light-medium green
    {216,     0,       192,     0  },  // Medium-dark green
    {217,     0,       64,      0  },  // Very dark green
    {218,     192,     255,     255},  // Very light cyan
    {219,     64,      255,     255},  // Light-medium cyan
    {220,     0,       192,     192},  // Medium-dark cyan
    {221,     0,       64,      64 },  // Very dark cyan
    {222,     192,     192,     255},  // Very light blue
    {223,     64,      64,      255},  // Light-medium blue
    {224,     0,       0,       192},  // Medium-dark blue
    {225,     0,       0,       64 },  // Very dark blue
    {226,     255,     192,     255},  // Very light magenta
    {227,     255,     64,      255},  // Light-medium magenta
    {228,     192,     0,       192},  // Medium-dark magenta
    {229,     64,      0,       64 },  // Very dark magenta
    {230,     255,     96,      96 },  // Medium skin tone
    {231,     255,     255,     255},  // White (cycleable)
    {232,     245,     245,     245},
    {233,     235,     235,     235},
    {234,     224,     224,     224},  // Very light gray (7/8 intensity)
    {235,     213,     213,     213},
    {236,     203,     203,     203},
    {237,     192,     192,     192},  // Light gray (3/4 intensity)
    {238,     181,     181,     181},
    {239,     171,     171,     171},
    {240,     160,     160,     160},  // Medium-light gray (5/8 int.)
    {241,     149,     149,     149},
    {242,     139,     139,     139},
    {243,     128,     128,     128},  // Medium gray (1/2 intensity)
    {244,     117,     117,     117},
    {245,     107,     107,     107},
    {246,     96,      96,      96 },  // Medium-dark gray (3/8 int.)
    {247,     85,      85,      85 },
    {248,     75,      75,      75 },
    {249,     64,      64,      64 },  // Dark gray (1/4 intensity)
    {250,     53,      53,      53 },
    {251,     43,      43,      43 },
    {252,     32,      32,      32 },  // Very dark gray (1/8 intensity)
    {253,     21,      21,      21 },
    {254,     11,      11,      11 },
    {255,     0,       0,       0  }   // Black (cycleable/changeable)
};

static PaletteEntryType X29ColorPalette[] =
{
//  Index     Red      Green    Blue
//  ========  =======  =======  =======
    {0,       0,       0,       0  },
    {1,       0,       0,       0  },
    {2,       255,     0,       0  }, 
    {3,       255,     0,       0  }, 
    {4,       255,     255,     0  }, 
    {5,       255,     255,     0  },
    {6,       0,       255,     0  },
    {7,       0,       255,     0  },
    {8,       128,     128,     0  },
    {9,       128,     128,     0  },
    {10,      0,       0,       255},
    {11,      0,       0,       255},
    {12,      255,     0,       255},
    {13,      255,     0,       255},
    {14,      255,     255,     255},
    {15,      255,     255,     255},
    {16,      0,       255,     255},
    {17,      0,       255,     255},
    {18,      0,       255,     255},
    {19,      0,       255,     255},
    {20,      255,     0,       0  },
    {21,      255,     0,       0  },
    {22,      255,     0,       0  },
    {23,      255,     0,       0  },
    {24,      255,     0,       0  },
    {25,      255,     0,       0  },
    {26,      255,     0,       0  },
    {27,      255,     0,       0  },
    {28,      255,     0,       0  },
    {29,      255,     0,       0  },
    {30,      255,     0,       0  },
    {31,      255,     0,       0  },
    {32,      255,     0,       0  },
    {33,      255,     0,       0  },
    {34,      255,     0,       0  },
    {35,      255,     0,       0  },
    {36,      255,     0,       0  },
    {37,      255,     0,       0  },
    {38,      255,     0,       0  },
    {39,      255,     0,       0  },
    {40,      255,     0,       0  },
    {41,      255,     0,       0  },
    {42,      255,     0,       0  },
    {43,      255,     0,       0  },
    {44,      255,     0,       0  },
    {45,      255,     0,       0  },
    {46,      255,     0,       0  },
    {47,      255,     0,       0  },
    {48,      255,     0,       0  },
    {49,      255,     0,       0  },
    {50,      255,     0,       0  },
    {51,      255,     0,       0  },
    {52,      255,     0,       0  },
    {53,      255,     0,       0  },
    {54,      255,     0,       0  },
    {55,      255,     0,       0  },
    {56,      255,     0,       0  },
    {57,      255,     0,       0  },
    {58,      255,     0,       0  },
    {59,      255,     0,       0  },
    {60,      255,     0,       0  },
    {61,      255,     0,       0  },
    {62,      255,     0,       0  },
    {63,      255,     0,       0  },
    {64,      255,     0,       0  },
    {65,      255,     0,       0  },
    {66,      255,     0,       0  },
    {67,      255,     0,       0  },
    {68,      255,     0,       0  },
    {69,      255,     0,       0  },
    {70,      255,     0,       0  },
    {71,      255,     0,       0  },
    {72,      255,     0,       0  },
    {73,      255,     0,       0  },
    {74,      255,     0,       0  },
    {75,      255,     0,       0  },
    {76,      255,     0,       0  },
    {77,      255,     0,       0  },
    {78,      255,     0,       0  },
    {79,      255,     0,       0  },
    {80,      255,     0,       0  },
    {81,      255,     0,       0  },
    {82,      255,     0,       0  },
    {83,      255,     0,       0  },
    {84,      255,     0,       0  },
    {85,      255,     0,       0  },
    {86,      255,     0,       0  },
    {87,      255,     0,       0  },
    {88,      255,     0,       0  },
    {89,      255,     0,       0  },
    {90,      255,     0,       0  },
    {91,      255,     0,       0  },
    {92,      255,     0,       0  },
    {93,      255,     0,       0  },
    {94,      255,     0,       0  },
    {95,      255,     0,       0  },
    {96,      255,     0,       0  },
    {97,      255,     0,       0  },
    {98,      255,     0,       0  },
    {99,      255,     0,       0  },
    {100,     255,     0,       0  },
    {101,     255,     0,       0  },
    {102,     255,     0,       0  },
    {103,     255,     0,       0  },
    {104,     255,     0,       0  },
    {105,     255,     0,       0  },
    {106,     255,     0,       0  },
    {107,     255,     0,       0  },
    {108,     255,     0,       0  },
    {109,     255,     0,       0  },
    {110,     255,     0,       0  },
    {111,     255,     0,       0  },
    {112,     255,     0,       0  },
    {113,     255,     0,       0  },
    {114,     255,     0,       0  },
    {115,     255,     0,       0  },
    {116,     255,     0,       0  },
    {117,     255,     0,       0  },
    {118,     255,     0,       0  },
    {119,     255,     0,       0  },
    {120,     255,     0,       0  },
    {121,     255,     0,       0  },
    {122,     255,     0,       0  },
    {123,     255,     0,       0  },
    {124,     255,     0,       0  },
    {125,     255,     0,       0  },
    {126,     255,     0,       0  },
    {127,     255,     0,       0  },
    {128,     255,     0,       0  },
    {129,     255,     0,       0  },
    {130,     255,     0,       0  },
    {131,     255,     0,       0  },
    {132,     255,     0,       0  },
    {133,     255,     0,       0  },
    {134,     255,     0,       0  },
    {135,     255,     0,       0  },
    {136,     255,     0,       0  },
    {137,     255,     0,       0  },
    {138,     255,     0,       0  },
    {139,     255,     0,       0  },
    {140,     255,     0,       0  },
    {141,     255,     0,       0  },
    {142,     255,     0,       0  },
    {143,     255,     0,       0  },
    {144,     255,     0,       0  },
    {145,     255,     0,       0  },
    {146,     255,     0,       0  },
    {147,     255,     0,       0  },
    {148,     255,     0,       0  },
    {149,     255,     0,       0  },
    {150,     255,     0,       0  },
    {151,     255,     0,       0  },
    {152,     255,     0,       0  },
    {153,     255,     0,       0  },
    {154,     255,     0,       0  },
    {155,     255,     0,       0  },
    {156,     255,     0,       0  },
    {157,     255,     0,       0  },
    {158,     255,     0,       0  },
    {159,     255,     0,       0  },
    {160,     255,     0,       0  },
    {161,     255,     0,       0  },
    {162,     255,     0,       0  },
    {163,     255,     0,       0  },
    {164,     255,     0,       0  },
    {165,     255,     0,       0  },
    {166,     255,     0,       0  },
    {167,     255,     0,       0  },
    {168,     255,     0,       0  },
    {169,     255,     0,       0  },
    {170,     255,     0,       0  },
    {171,     255,     0,       0  },
    {172,     255,     0,       0  },
    {173,     255,     0,       0  },
    {174,     255,     0,       0  },
    {175,     255,     0,       0  },
    {176,     255,     0,       0  },
    {177,     255,     0,       0  },
    {178,     255,     0,       0  },
    {179,     255,     0,       0  },
    {180,     255,     0,       0  },
    {181,     255,     0,       0  },
    {182,     255,     0,       0  },
    {183,     255,     0,       0  },
    {184,     255,     0,       0  },
    {185,     255,     0,       0  },
    {186,     255,     0,       0  },
    {187,     255,     0,       0  },
    {188,     255,     0,       0  },
    {189,     255,     0,       0  },
    {190,     255,     0,       0  },
    {191,     255,     0,       0  },
    {192,     255,     0,       0  },
    {193,     255,     0,       0  },
    {194,     255,     0,       0  },
    {195,     255,     0,       0  },
    {196,     255,     0,       0  },
    {197,     255,     0,       0  },
    {198,     255,     0,       0  },
    {199,     255,     0,       0  },
    {200,     255,     0,       0  },
    {201,     255,     0,       0  },
    {202,     255,     0,       0  },
    {203,     255,     0,       0  },
    {204,     255,     0,       0  },
    {205,     255,     0,       0  },
    {206,     255,     0,       0  },
    {207,     255,     0,       0  },
    {208,     255,     0,       0  },
    {209,     255,     0,       0  },
    {210,     255,     0,       0  },
    {211,     255,     0,       0  },
    {212,     255,     0,       0  },
    {213,     255,     0,       0  },
    {214,     255,     0,       0  },
    {215,     255,     0,       0  },
    {216,     255,     0,       0  },
    {217,     255,     0,       0  },
    {218,     255,     0,       0  },
    {219,     255,     0,       0  },
    {220,     255,     0,       0  },
    {221,     255,     0,       0  },
    {222,     255,     0,       0  },
    {223,     255,     0,       0  },
    {224,     255,     0,       0  },
    {225,     255,     0,       0  },
    {226,     255,     0,       0  },
    {227,     255,     0,       0  },
    {228,     255,     0,       0  },
    {229,     255,     0,       0  },
    {230,     255,     0,       0  },
    {231,     255,     0,       0  },
    {232,     255,     0,       0  },
    {233,     255,     0,       0  },
    {234,     255,     0,       0  },
    {235,     255,     0,       0  },
    {236,     255,     0,       0  },
    {237,     255,     0,       0  },
    {238,     255,     0,       0  },
    {239,     255,     0,       0  },
    {240,     255,     0,       0  },
    {241,     255,     0,       0  },
    {242,     255,     0,       0  },
    {243,     255,     0,       0  },
    {244,     255,     0,       0  },
    {245,     255,     0,       0  },
    {246,     255,     0,       0  },
    {247,     255,     0,       0  },
    {248,     255,     0,       0  },
    {249,     255,     0,       0  },
    {250,     255,     0,       0  },
    {251,     255,     0,       0  },
    {252,     255,     0,       0  },
    {253,     255,     0,       0  },
    {254,     255,     0,       0  },
    {255,     255,     0,       0  }
};

// Following from published ILDA Standard Palette
// (preliminary draft), September 1995
static PaletteEntryType IldaColorPalette[] =
{
//  Index     Red      Green    Blue
//  ========  =======  =======  =======
    {0,       0,       0,       0  },  // Black/blanked(fixed)
    {1,       255,     255,     255},  // White (fixed)
    {2,       255,     0,       0  },  // Red (fixed)
    {3,       255,     255,     0  },  // Yellow (fixed)
    {4,       0,       255,     0  },  // Green (fixed)
    {5,       0,       255,     255},  // Cyan (fixed)
    {6,       0,       0,       255},  // Blue (fixed)
    {7,       255,     0,       255},  // Magenta (fixed)
    {8,       255,     128,     128},  // Light red
    {9,       255,     140,     128},
    {10,      255,     151,     128},
    {11,      255,     163,     128},
    {12,      255,     174,     128},
    {13,      255,     186,     128},
    {14,      255,     197,     128},
    {15,      255,     209,     128},
    {16,      255,     220,     128},
    {17,      255,     232,     128},
    {18,      255,     243,     128},
    {19,      255,     255,     128},  // Light yellow
    {20,      243,     255,     128},
    {21,      232,     255,     128},
    {22,      220,     255,     128},
    {23,      209,     255,     128},
    {24,      197,     255,     128},
    {25,      186,     255,     128},
    {26,      174,     255,     128},
    {27,      163,     255,     128},
    {28,      151,     255,     128},
    {29,      140,     255,     128},
    {30,      128,     255,     128},  // Light green
    {31,      128,     255,     140},
    {32,      128,     255,     151},
    {33,      128,     255,     163},
    {34,      128,     255,     174},
    {35,      128,     255,     186},
    {36,      128,     255,     197},
    {37,      128,     255,     209},
    {38,      128,     255,     220},
    {39,      128,     255,     232},
    {40,      128,     255,     243},
    {41,      128,     255,     255},  // Light cyan
    {42,      128,     243,     255},
    {43,      128,     232,     255},
    {44,      128,     220,     255},
    {45,      128,     209,     255},
    {46,      128,     197,     255},
    {47,      128,     186,     255},
    {48,      128,     174,     255},
    {49,      128,     163,     255},
    {50,      128,     151,     255},
    {51,      128,     140,     255},
    {52,      128,     128,     255},  // Light blue
    {53,      140,     128,     255},
    {54,      151,     128,     255},
    {55,      163,     128,     255},
    {56,      174,     128,     255},
    {57,      186,     128,     255},
    {58,      197,     128,     255},
    {59,      209,     128,     255},
    {60,      220,     128,     255},
    {61,      232,     128,     255},
    {62,      243,     128,     255},
    {63,      255,     128,     255},  // Light magenta
    {64,      255,     128,     243},
    {65,      255,     128,     232},
    {66,      255,     128,     220},
    {67,      255,     128,     209},
    {68,      255,     128,     197},
    {69,      255,     128,     186},
    {70,      255,     128,     174},
    {71,      255,     128,     163},
    {72,      255,     128,     151},
    {73,      255,     128,     140},
    {74,      255,     0,       0  },  // Red (cycleable)
    {75,      255,     23,      0  },
    {76,      255,     46,      0  },
    {77,      255,     70,      0  },
    {78,      255,     93,      0  },
    {79,      255,     116,     0  },
    {80,      255,     139,     0  },
    {81,      255,     162,     0  },
    {82,      255,     185,     0  },
    {83,      255,     209,     0  },
    {84,      255,     232,     0  },
    {85,      255,     255,     0  },  // Yellow (cycleable)
    {86,      232,     255,     0  },
    {87,      209,     255,     0  },
    {88,      185,     255,     0  },
    {89,      162,     255,     0  },
    {90,      139,     255,     0  },
    {91,      116,     255,     0  },
    {92,      93,      255,     0  },
    {93,      70,      255,     0  },
    {94,      46,      255,     0  },
    {95,      23,      255,     0  },
    {96,      0,       255,     0  },  // Green (cycleable)
    {97,      0,       255,     23 },
    {98,      0,       255,     46 },
    {99,      0,       255,     70 },
    {100,     0,       255,     93 },
    {101,     0,       255,     116},
    {102,     0,       255,     139},
    {103,     0,       255,     162},
    {104,     0,       255,     185},
    {105,     0,       255,     209},
    {106,     0,       255,     232},
    {107,     0,       255,     255},  // Cyan (cycleable)
    {108,     0,       232,     255},
    {109,     0,       209,     255},
    {110,     0,       185,     255},
    {111,     0,       162,     255},
    {112,     0,       139,     255},
    {113,     0,       116,     255},
    {114,     0,       93,      255},
    {115,     0,       70,      255},
    {116,     0,       46,      255},
    {117,     0,       23,      255},
    {118,     0,       0,       255},  // Blue (cycleable)
    {119,     23,      0,       255},
    {120,     46,      0,       255},
    {121,     70,      0,       255},
    {122,     93,      0,       255},
    {123,     116,     0,       255},
    {124,     139,     0,       255},
    {125,     162,     0,       255},
    {126,     185,     0,       255},
    {127,     209,     0,       255},
    {128,     232,     0,       255},
    {129,     255,     0,       255},  // Magenta (cycleable)
    {130,     255,     0,       232},
    {131,     255,     0,       209},
    {132,     255,     0,       185},
    {133,     255,     0,       162},
    {134,     255,     0,       139},
    {135,     255,     0,       116},
    {136,     255,     0,       93 },
    {137,     255,     0,       70 },
    {138,     255,     0,       46 },
    {139,     255,     0,       23 },
    {140,     128,     0,       0  },  // Dark red
    {141,     128,     12,      0  },
    {142,     128,     23,      0  },
    {143,     128,     35,      0  },
    {144,     128,     47,      0  },
    {145,     128,     58,      0  },
    {146,     128,     70,      0  },
    {147,     128,     81,      0  },
    {148,     128,     93,      0  },
    {149,     128,     105,     0  },
    {150,     128,     116,     0  },
    {151,     128,     128,     0  },  // Dark yellow
    {152,     116,     128,     0  },
    {153,     105,     128,     0  },
    {154,     93,      128,     0  },
    {155,     81,      128,     0  },
    {156,     70,      128,     0  },
    {157,     58,      128,     0  },
    {158,     47,      128,     0  },
    {159,     35,      128,     0  },
    {160,     23,      128,     0  },
    {161,     12,      128,     0  },
    {162,     0,       128,     0  },  // Dark green
    {163,     0,       128,     12 },
    {164,     0,       128,     23 },
    {165,     0,       128,     35 },
    {166,     0,       128,     47 },
    {167,     0,       128,     58 },
    {168,     0,       128,     70 },
    {169,     0,       128,     81 },
    {170,     0,       128,     93 },
    {171,     0,       128,     105},
    {172,     0,       128,     116},
    {173,     0,       128,     128},  // Dark cyan
    {174,     0,       116,     128},
    {175,     0,       105,     128},
    {176,     0,       93,      128},
    {177,     0,       81,      128},
    {178,     0,       70,      128},
    {179,     0,       58,      128},
    {180,     0,       47,      128},
    {181,     0,       35,      128},
    {182,     0,       23,      128},
    {183,     0,       12,      128},
    {184,     0,       0,       128},  // Dark blue
    {185,     12,      0,       128},
    {186,     23,      0,       128},
    {187,     35,      0,       128},
    {188,     47,      0,       128},
    {189,     58,      0,       128},
    {190,     70,      0,       128},
    {191,     81,      0,       128},
    {192,     93,      0,       128},
    {193,     105,     0,       128},
    {194,     116,     0,       128},
    {195,     128,     0,       128},  // Dark magenta
    {196,     128,     0,       116},
    {197,     128,     0,       105},
    {198,     128,     0,       93 },
    {199,     128,     0,       81 },
    {200,     128,     0,       70 },
    {201,     128,     0,       58 },
    {202,     128,     0,       47 },
    {203,     128,     0,       35 },
    {204,     128,     0,       23 },
    {205,     128,     0,       12 },
    {206,     255,     192,     192},  // Very light red
    {207,     255,     64,      64 },  // Light-medium red
    {208,     192,     0,       0  },  // Medium-dark red
    {209,     64,      0,       0  },  // Very dark red
    {210,     255,     255,     192},  // Very light yellow
    {211,     255,     255,     64 },  // Light-medium yellow
    {212,     192,     192,     0  },  // Medium-dark yellow
    {213,     64,      64,      0  },  // Very dark yellow
    {214,     192,     255,     192},  // Very light green
    {215,     64,      255,     64 },  // Light-medium green
    {216,     0,       192,     0  },  // Medium-dark green
    {217,     0,       64,      0  },  // Very dark green
    {218,     192,     255,     255},  // Very light cyan
    {219,     64,      255,     255},  // Light-medium cyan
    {220,     0,       192,     192},  // Medium-dark cyan
    {221,     0,       64,      64 },  // Very dark cyan
    {222,     192,     192,     255},  // Very light blue
    {223,     64,      64,      255},  // Light-medium blue
    {224,     0,       0,       192},  // Medium-dark blue
    {225,     0,       0,       64 },  // Very dark blue
    {226,     255,     192,     255},  // Very light magenta
    {227,     255,     64,      255},  // Light-medium magenta
    {228,     192,     0,       192},  // Medium-dark magenta
    {229,     64,      0,       64 },  // Very dark magenta
    {230,     255,     96,      96 },  // Medium skin tone
    {231,     255,     255,     255},  // White (cycleable)
    {232,     245,     245,     245},
    {233,     235,     235,     235},
    {234,     224,     224,     224},  // Very light gray (7/8 intensity)
    {235,     213,     213,     213},
    {236,     203,     203,     203},
    {237,     192,     192,     192},  // Light gray (3/4 intensity)
    {238,     181,     181,     181},
    {239,     171,     171,     171},
    {240,     160,     160,     160},  // Medium-light gray (5/8 int.)
    {241,     149,     149,     149},
    {242,     139,     139,     139},
    {243,     128,     128,     128},  // Medium gray (1/2 intensity)
    {244,     117,     117,     117},
    {245,     107,     107,     107},
    {246,     96,      96,      96 },  // Medium-dark gray (3/8 int.)
    {247,     85,      85,      85 },
    {248,     75,      75,      75 },
    {249,     64,      64,      64 },  // Dark gray (1/4 intensity)
    {250,     53,      53,      53 },
    {251,     43,      43,      43 },
    {252,     32,      32,      32 },  // Very dark gray (1/8 intensity)
    {253,     21,      21,      21 },
    {254,     11,      11,      11 },
    {255,     0,       0,       0  }   // Black (cycleable/changeable)
};

M_UINT8
CCheap3DView::GetClosestPaletteIndex(PALETTE_PTR_T colorPalettePtr,
    M_UINT8    redValue,
    M_UINT8    greenValue,
    M_UINT8    blueValue)
{
    M_UINT8   currentBestChoice = 0;
	M_INT16 currentBestRedDiff   = 255;
	M_INT16 currentBestGreenDiff = 255;
	M_INT16 currentBestBlueDiff  = 255;
	M_INT16 tempRedColorDiff     = 0;
	M_INT16 tempGreenColorDiff   = 0;
	M_INT16 tempBlueColorDiff    = 0;

	if (!colorPalettePtr)
	{
        return 0;
	}

	for (int i=0 ; i<=255 ; ++i)
	{
        tempRedColorDiff   = abs(colorPalettePtr[i].redValue - redValue);
        tempGreenColorDiff = abs(colorPalettePtr[i].greenValue - greenValue);
        tempBlueColorDiff  = abs(colorPalettePtr[i].blueValue - blueValue);

		if (((tempRedColorDiff   <= currentBestRedDiff)  &&
			 (tempGreenColorDiff <= currentBestGreenDiff) &&
			 (tempBlueColorDiff  <= currentBestBlueDiff)) ||
			 ((tempRedColorDiff+tempGreenColorDiff+tempBlueColorDiff) <
			  (currentBestRedDiff+currentBestGreenDiff+currentBestBlueDiff)))
		{
			currentBestRedDiff   = tempRedColorDiff;
			currentBestGreenDiff = tempGreenColorDiff;
			currentBestBlueDiff  = tempBlueColorDiff;
            currentBestChoice    = (M_UINT8)i;
		}

	} // end loop through table entries

    return currentBestChoice;

}



